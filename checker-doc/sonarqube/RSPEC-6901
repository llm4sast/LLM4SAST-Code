"setDaemon", "setPriority" and "getThreadGroup" should not be invoked on virtual threads
The Thread class has some methods that are used to monitor and manage its execution. With the introduction of virtual threads in Java 21, there are three of these methods that behave differently between the standard platform threads and the virtual ones. For virtual threads: Thread.setDaemon(boolean) will throw an IllegalArgumentException if false is passed as an argument as a virtual thread daemon status is always true. Thread.setPriority(int priority) will never change the actual priority of a virtual thread, which is always equal to Thread.NORM_PRIORITY Thread.getThreadGroup() will return a dummy "VirtualThreads" group that is empty and should not be used This rule reports an issue when one of these methods is invoked on a virtual thread.